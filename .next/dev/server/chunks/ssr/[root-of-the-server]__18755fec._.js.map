{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vilen/Downloads/New%20folder/components/ErrorBoundary.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Component, ReactNode } from 'react'\r\n\r\ninterface Props {\r\n  children: ReactNode\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean\r\n  error?: Error\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props)\r\n    this.state = { hasError: false }\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error }\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: any) {\r\n    console.error('Error caught by boundary:', error, errorInfo)\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4\">\r\n          <div className=\"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\r\n            <h2 className=\"text-2xl font-bold text-red-600 dark:text-red-400 mb-4\">\r\n              Something went wrong\r\n            </h2>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n              {this.state.error?.message || 'An unexpected error occurred'}\r\n            </p>\r\n            <button\r\n              onClick={() => {\r\n                this.setState({ hasError: false, error: undefined })\r\n                window.location.reload()\r\n              }}\r\n              className=\"btn-primary\"\r\n            >\r\n              Reload Page\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAaO,MAAM,sBAAsB,kNAAS;IAC1C,YAAY,KAAY,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;QAAM;IACjC;IAEA,OAAO,yBAAyB,KAAY,EAAS;QACnD,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEA,kBAAkB,KAAY,EAAE,SAAc,EAAE;QAC9C,QAAQ,KAAK,CAAC,6BAA6B,OAAO;IACpD;IAEA,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,qBACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAyD;;;;;;sCAGvE,8OAAC;4BAAE,WAAU;sCACV,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,WAAW;;;;;;sCAEhC,8OAAC;4BACC,SAAS;gCACP,IAAI,CAAC,QAAQ,CAAC;oCAAE,UAAU;oCAAO,OAAO;gCAAU;gCAClD,OAAO,QAAQ,CAAC,MAAM;4BACxB;4BACA,WAAU;sCACX;;;;;;;;;;;;;;;;;QAMT;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vilen/Downloads/New%20folder/components/providers/SessionProvider.tsx"],"sourcesContent":["'use client'\n\nimport { SessionProvider as NextAuthSessionProvider } from 'next-auth/react'\nimport { ReactNode } from 'react'\n\ninterface SessionProviderProps {\n  children: ReactNode\n}\n\nfunction SessionProvider({ children }: SessionProviderProps) {\n  return (\n    <NextAuthSessionProvider>\n      {children}\n    </NextAuthSessionProvider>\n  )\n}\n\nexport default SessionProvider\nexport { SessionProvider }"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AASA,SAAS,gBAAgB,EAAE,QAAQ,EAAwB;IACzD,qBACE,8OAAC,iKAAuB;kBACrB;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vilen/Downloads/New%20folder/lib/geolocation.ts"],"sourcesContent":["// IP-based geolocation for automatic region detection\r\n// Replaces the quiz system with automatic region detection\r\n\r\nexport type RegionType = 'us' | 'eu' | 'other'\r\n\r\nexport interface GeolocationData {\r\n  ip: string\r\n  country_code: string\r\n  country_name: string\r\n  region: RegionType\r\n  detected_at: number\r\n}\r\n\r\nconst EU_COUNTRIES = new Set([\r\n  'AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR',\r\n  'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL',\r\n  'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE', 'IS', 'LI', 'NO'\r\n])\r\n\r\nconst US_COUNTRIES = new Set(['US'])\r\n\r\nexport async function detectRegionFromIP(ip?: string): Promise<RegionType> {\r\n  try {\r\n    if (!ip) {\r\n      console.warn('No IP provided, defaulting to other region')\r\n      return 'other'\r\n    }\r\n\r\n    const response = await fetch(`https://ipapi.co/${ip}/json/`, {\r\n      headers: {\r\n        'User-Agent': 'Swiss-Immigration-App/1.0'\r\n      }\r\n    })\r\n\r\n    if (!response.ok) {\r\n      console.warn('Geolocation API failed, defaulting to other')\r\n      return 'other'\r\n    }\r\n\r\n    const data = await response.json()\r\n\r\n    if (data.error) {\r\n      console.warn('Geolocation API error:', data.error)\r\n      return 'other'\r\n    }\r\n\r\n    const countryCode = data.country_code?.toUpperCase()\r\n\r\n    if (!countryCode) {\r\n      console.warn('No country code in geolocation response')\r\n      return 'other'\r\n    }\r\n\r\n    if (US_COUNTRIES.has(countryCode)) {\r\n      return 'us'\r\n    }\r\n\r\n    if (EU_COUNTRIES.has(countryCode)) {\r\n      return 'eu'\r\n    }\r\n\r\n    return 'other'\r\n  } catch (error) {\r\n    console.error('Error detecting region from IP:', error)\r\n    return 'other'\r\n  }\r\n}\r\n\r\nexport function getRegionFromCountryCode(countryCode: string): RegionType {\r\n  const code = countryCode.toUpperCase().trim()\r\n\r\n  if (US_COUNTRIES.has(code)) {\r\n    return 'us'\r\n  }\r\n\r\n  if (EU_COUNTRIES.has(code)) {\r\n    return 'eu'\r\n  }\r\n\r\n  return 'other'\r\n}\r\n\r\nexport function getRegionRoute(region: RegionType): string {\r\n  return `/${region}`\r\n}\r\n\r\nexport function getRegionDisplayName(region: RegionType): string {\r\n  switch (region) {\r\n    case 'us':\r\n      return 'United States'\r\n    case 'eu':\r\n      return 'Europe'\r\n    case 'other':\r\n      return 'International'\r\n    default:\r\n      return 'International'\r\n  }\r\n}\r\n\r\nexport function getRegionTagline(region: RegionType): string {\r\n  switch (region) {\r\n    case 'us':\r\n      return 'From Stars & Stripes to Swiss Precision'\r\n    case 'eu':\r\n      return 'Easy EU Mobility to Swiss Bliss'\r\n    case 'other':\r\n      return 'Global Pathways to Switzerland'\r\n    default:\r\n      return 'Your Swiss Immigration Journey'\r\n  }\r\n}\r\n\r\nexport function getRegionDescription(region: RegionType): string {\r\n  switch (region) {\r\n    case 'us':\r\n      return 'Navigate non-EU work visas, sponsorships, and salary thresholds. Expert guidance for US and Canadian professionals seeking Swiss opportunities.'\r\n    case 'eu':\r\n      return 'Leverage your EU/EFTA freedom of movement rights for fast-track Swiss residency. No quotas, simplified processes, and 5-year path to citizenship.'\r\n    case 'other':\r\n      return 'Comprehensive support for international nationals: quotas, lotteries, embassy guides, and strategic pathways to Swiss residency and citizenship.'\r\n    default:\r\n      return 'Your personalized Swiss immigration platform'\r\n  }\r\n}\r\n\r\nexport function createGeolocationData(ip: string, countryCode: string, countryName: string): GeolocationData {\r\n  const region = getRegionFromCountryCode(countryCode)\r\n\r\n  return {\r\n    ip,\r\n    country_code: countryCode.toUpperCase(),\r\n    country_name: countryName,\r\n    region,\r\n    detected_at: Date.now()\r\n  }\r\n}\r\n\r\nexport function storeRegionDetection(region: RegionType, geolocationData?: GeolocationData): void {\r\n  if (typeof window === 'undefined') return\r\n\r\n  try {\r\n    localStorage.setItem('userRegion', region)\r\n    localStorage.setItem('regionAutoDetected', 'true')\r\n\r\n    if (geolocationData) {\r\n      localStorage.setItem('geolocationData', JSON.stringify(geolocationData))\r\n    }\r\n\r\n    const oneYear = 60 * 60 * 24 * 365\r\n    document.cookie = `userRegion=${region}; path=/; max-age=${oneYear}`\r\n    document.cookie = `regionAutoDetected=true; path=/; max-age=${oneYear}`\r\n\r\n    if (geolocationData) {\r\n      document.cookie = `geolocationData=${encodeURIComponent(JSON.stringify(geolocationData))}; path=/; max-age=${oneYear}`\r\n    }\r\n  } catch (error) {\r\n    console.error('Error storing region detection:', error)\r\n  }\r\n}\r\n\r\nexport function getStoredRegion(): RegionType | null {\r\n  if (typeof window === 'undefined') return null\r\n\r\n  try {\r\n    const storedRegion = localStorage.getItem('userRegion') as RegionType | null\r\n    if (storedRegion && ['us', 'eu', 'other'].includes(storedRegion)) {\r\n      return storedRegion\r\n    }\r\n\r\n    if (typeof document !== 'undefined') {\r\n      const cookies = document.cookie.split(';').reduce((acc, cookie) => {\r\n        const [key, value] = cookie.trim().split('=')\r\n        acc[key] = value\r\n        return acc\r\n      }, {} as Record<string, string>)\r\n\r\n      const cookieRegion = cookies.userRegion as RegionType | undefined\r\n      if (cookieRegion && ['us', 'eu', 'other'].includes(cookieRegion)) {\r\n        return cookieRegion\r\n      }\r\n    }\r\n\r\n    return null\r\n  } catch (error) {\r\n    console.error('Error retrieving stored region:', error)\r\n    return null\r\n  }\r\n}"],"names":[],"mappings":"AAAA,sDAAsD;AACtD,2DAA2D;;;;;;;;;;;;;;;;;;;;;AAY3D,MAAM,eAAe,IAAI,IAAI;IAC3B;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACtD;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACtD;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;CACvD;AAED,MAAM,eAAe,IAAI,IAAI;IAAC;CAAK;AAE5B,eAAe,mBAAmB,EAAW;IAClD,IAAI;QACF,IAAI,CAAC,IAAI;YACP,QAAQ,IAAI,CAAC;YACb,OAAO;QACT;QAEA,MAAM,WAAW,MAAM,MAAM,CAAC,iBAAiB,EAAE,GAAG,MAAM,CAAC,EAAE;YAC3D,SAAS;gBACP,cAAc;YAChB;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,QAAQ,IAAI,CAAC;YACb,OAAO;QACT;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,KAAK,KAAK,EAAE;YACd,QAAQ,IAAI,CAAC,0BAA0B,KAAK,KAAK;YACjD,OAAO;QACT;QAEA,MAAM,cAAc,KAAK,YAAY,EAAE;QAEvC,IAAI,CAAC,aAAa;YAChB,QAAQ,IAAI,CAAC;YACb,OAAO;QACT;QAEA,IAAI,aAAa,GAAG,CAAC,cAAc;YACjC,OAAO;QACT;QAEA,IAAI,aAAa,GAAG,CAAC,cAAc;YACjC,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO;IACT;AACF;AAEO,SAAS,yBAAyB,WAAmB;IAC1D,MAAM,OAAO,YAAY,WAAW,GAAG,IAAI;IAE3C,IAAI,aAAa,GAAG,CAAC,OAAO;QAC1B,OAAO;IACT;IAEA,IAAI,aAAa,GAAG,CAAC,OAAO;QAC1B,OAAO;IACT;IAEA,OAAO;AACT;AAEO,SAAS,eAAe,MAAkB;IAC/C,OAAO,CAAC,CAAC,EAAE,QAAQ;AACrB;AAEO,SAAS,qBAAqB,MAAkB;IACrD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEO,SAAS,iBAAiB,MAAkB;IACjD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEO,SAAS,qBAAqB,MAAkB;IACrD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEO,SAAS,sBAAsB,EAAU,EAAE,WAAmB,EAAE,WAAmB;IACxF,MAAM,SAAS,yBAAyB;IAExC,OAAO;QACL;QACA,cAAc,YAAY,WAAW;QACrC,cAAc;QACd;QACA,aAAa,KAAK,GAAG;IACvB;AACF;AAEO,SAAS,qBAAqB,MAAkB,EAAE,eAAiC;IACxF,wCAAmC;;;AAoBrC;AAEO,SAAS;IACd,wCAAmC,OAAO;;;AA0B5C","debugId":null}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vilen/Downloads/New%20folder/components/RegionDetector.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { detectRegionFromIP, RegionType, storeRegionDetection } from '@/lib/geolocation'\r\n\r\nexport default function RegionDetector() {\r\n  const router = useRouter()\r\n  const [isDetecting, setIsDetecting] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const detectRegion = async () => {\r\n      try {\r\n        // Check if user has already been detected\r\n        const storedRegion = localStorage.getItem('userRegion') as RegionType | null\r\n        if (storedRegion && ['us', 'eu', 'other'].includes(storedRegion)) {\r\n          setIsDetecting(false)\r\n          return\r\n        }\r\n\r\n        // Get user's IP (this would typically come from an API route)\r\n        const response = await fetch('/api/region/detect')\r\n        const data = await response.json()\r\n\r\n        if (data.region) {\r\n          storeRegionDetection(data.region)\r\n        }\r\n      } catch (error) {\r\n        console.error('Error detecting region:', error)\r\n      } finally {\r\n        setIsDetecting(false)\r\n      }\r\n    }\r\n\r\n    detectRegion()\r\n  }, [router])\r\n\r\n  // This component doesn't render anything, it just handles region detection\r\n  return null\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,0CAA0C;gBAC1C,MAAM,eAAe,aAAa,OAAO,CAAC;gBAC1C,IAAI,gBAAgB;oBAAC;oBAAM;oBAAM;iBAAQ,CAAC,QAAQ,CAAC,eAAe;oBAChE,eAAe;oBACf;gBACF;gBAEA,8DAA8D;gBAC9D,MAAM,WAAW,MAAM,MAAM;gBAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;gBAEhC,IAAI,KAAK,MAAM,EAAE;oBACf,IAAA,sKAAoB,EAAC,KAAK,MAAM;gBAClC;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C,SAAU;gBACR,eAAe;YACjB;QACF;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,2EAA2E;IAC3E,OAAO;AACT","debugId":null}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vilen/Downloads/New%20folder/components/providers/LocalePreferenceProvider.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react'\r\n\r\ntype Locale = 'en' | 'de' | 'fr' | 'it'\r\n\r\ninterface LocalePreferenceContextType {\r\n  locale: Locale\r\n  setLocale: (locale: Locale) => void\r\n}\r\n\r\nconst LocalePreferenceContext = createContext<LocalePreferenceContextType | undefined>(undefined)\r\n\r\nexport function useLocalePreference() {\r\n  const context = useContext(LocalePreferenceContext)\r\n  if (context === undefined) {\r\n    throw new Error('useLocalePreference must be used within a LocalePreferenceProvider')\r\n  }\r\n  return context\r\n}\r\n\r\ninterface LocalePreferenceProviderProps {\r\n  children: ReactNode\r\n}\r\n\r\nexport default function LocalePreferenceProvider({ children }: LocalePreferenceProviderProps) {\r\n  const [locale, setLocaleState] = useState<Locale>('en')\r\n\r\n  useEffect(() => {\r\n    // Load saved locale preference from localStorage\r\n    const savedLocale = localStorage.getItem('preferredLocale') as Locale\r\n    if (savedLocale && ['en', 'de', 'fr', 'it'].includes(savedLocale)) {\r\n      setLocaleState(savedLocale)\r\n    }\r\n  }, [])\r\n\r\n  const setLocale = (newLocale: Locale) => {\r\n    setLocaleState(newLocale)\r\n    localStorage.setItem('preferredLocale', newLocale)\r\n  }\r\n\r\n  return (\r\n    <LocalePreferenceContext.Provider value={{ locale, setLocale }}>\r\n      {children}\r\n    </LocalePreferenceContext.Provider>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAWA,MAAM,wCAA0B,IAAA,sNAAa,EAA0C;AAEhF,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAMe,SAAS,yBAAyB,EAAE,QAAQ,EAAiC;IAC1F,MAAM,CAAC,QAAQ,eAAe,GAAG,IAAA,iNAAQ,EAAS;IAElD,IAAA,kNAAS,EAAC;QACR,iDAAiD;QACjD,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,IAAI,eAAe;YAAC;YAAM;YAAM;YAAM;SAAK,CAAC,QAAQ,CAAC,cAAc;YACjE,eAAe;QACjB;IACF,GAAG,EAAE;IAEL,MAAM,YAAY,CAAC;QACjB,eAAe;QACf,aAAa,OAAO,CAAC,mBAAmB;IAC1C;IAEA,qBACE,8OAAC,wBAAwB,QAAQ;QAAC,OAAO;YAAE;YAAQ;QAAU;kBAC1D;;;;;;AAGP","debugId":null}}]
}